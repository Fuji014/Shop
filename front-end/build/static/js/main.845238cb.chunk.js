(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{114:function(e,t,r){},116:function(e,t,r){},119:function(e,t,r){},120:function(e,t,r){},121:function(e,t,r){},122:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r(1),n=r.n(c),s=r(26),i=r.n(s),o=(r(89),r(90),r(16)),j=r(2),d=r(83);var l=function(e){var t=e.component,r=Object(d.a)(e,["component"]);return Object(a.jsx)(o.d,Object(j.a)(Object(j.a)({},r),{},{component:function(e){return window.localStorage.getItem("token")?Object(a.jsx)(t,Object(j.a)({},e)):Object(a.jsx)(o.c,{to:"/login"})}}))},u=r(12),b=r(129),O=r(73),p=r(8),h=r(9),x=r.n(h),m=r(11),f=r(72),g=r.n(f).a.create({baseURL:"http://localhost:2000/api"});g.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return e.headers.Authorization="Bearer ".concat(t),e}));var v=g,y="GET_ALL_PRODUCT_REQUEST",E="GET_ALL_PRODUCT_SUCCESS",S="GET_ALL_PRODUCT_FAILURE",I="PRODUCT_TOP_RATED_REQUEST",R="PRODUCT_TOP_RATED_SUCCESS",_="PRODUCT_TOP_RATED_FAILURE",C="REMOVE_PRODUCT_REQUEST",T="REMOVE_PRODUCT_SUCCESS",P="REMOVE_PRODUCT_FAILURE",D="UPDATE_PRODUCT_REQUEST",A="UPDATE_PRODUCT_SUCCESS",L="UPDATE_PRODUCT_FAILURE",U="UPDATE_PRODUCT_RESET",k="GET_SINGLE_PRODUCT_REQUEST",w="GET_SINGLE_PRODUCT_SUCCESS",N="GET_SINGLE_PRODUCT_FAILURE",G="CREATE_PRODUCT_REQUEST",F="CREATE_PRODUCT_SUCCESS",M="CREATE_PRODUCT_FAILURE",Q="CREATE_PRODUCT_RESET",q="PRODUCT_CREATE_REVIEW_REQUEST",V="PRODUCT_CREATE_REVIEW_SUCCESS",$="PRODUCT_CREATE_REVIEW_FAILURE",B="PRODUCT_CREATE_REVIEW_RESET",J="ADD_CART_ITEM_REQUEST",W="ADD_CART_ITEM_SUCCESS",Y="ADD_CART_ITEM_FAILURE",H="REMOVE_CART_ITEM_REQUEST",z="REMOVE_CART_ITEM_SUCCESS",K="REMOVE_CART_ITEM_FAILURE",X="CART_SAVE_SHIPPING_ADDRESS_SUCCESS",Z="CART_SAVE_PAYMENT_METHOD_SUCCESS",ee="CART_RESET",te="USER_LOGIN_REQUEST",re="USER_LOGIN_SUCCESS",ae="USER_LOGIN_FAILURE",ce="USER_LOGOUT_REQUEST",ne="USER_LOGOUT_SUCCESS",se="USER_LOGOUT_FAILURE",ie="USER_REGISTER_REQUEST",oe="USER_REGISTER_SUCCESS",je="USER_REGISTER_FAILURE",de="USER_PROFILE_REQUEST",le="USER_PROFILE_SUCCESS",ue="USER_PROFILE_FAILURE",be="USER_PROFILE_RESET",Oe="USER_UPDATE_REQUEST",pe="USER_UPDATE_SUCCESS",he="USER_UPDATE_FAILURE",xe="USER_LIST_REQUEST",me="USER_LIST_SUCCESS",fe="USER_LIST_FAILURE",ge="USER_LIST_RESET",ve="USER_DELETE_REQUEST",ye="USER_DELETE_SUCCESS",Ee="USER_DELETE_FAILURE",Se="USER_DELETE_RESET",Ie="USER_DETAILS_REQUEST",Re="USER_DETAILS_SUCCESS",_e="USER_DETAILS_FAILURE",Ce="USER_DETAILS_RESET",Te="USER_DETAILS_UPDATE_REQUEST",Pe="USER_DETAILS_UPDATE_SUCCESS",De="USER_DETAILS_UPDATE_FAILURE",Ae="USER_DETAILS_UPDATE_RESET",Le="ORDER_CREATE_REQUEST",Ue="ORDER_CREATE_SUCCESS",ke="ORDER_CREATE_FAILURE",we="ORDER_DETAILS_REQUEST",Ne="ORDER_DETAILS_SUCCESS",Ge="ORDER_DETAILS_FAILURE",Fe="ORDER_PAY_REQUEST",Me="ORDER_PAY_SUCCESS",Qe="ORDER_PAY_FAILURE",qe="ORDER_PAY_RESET",Ve="ORDER_LIST_REQUEST",$e="ORDER_LIST_SUCCESS",Be="ORDER_LIST_FAILURE",Je="ORDER_LIST_RESET",We="ORDER_GET_ALL_REQUEST",Ye="ORDER_GET_ALL_SUCCESS",He="ORDER_GET_ALL_FAILURE",ze="ORDER_UPDATE_TO_DELIVER_REQUEST",Ke="ORDER_UPDATE_TO_DELIVER_SUCCESS",Xe="ORDER_UPDATE_TO_FAILURE",Ze="ORDER_UPDATE_TO_RESET",et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(m.a)(x.a.mark((function r(a){var c;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:y}),r.next=4,v.get("products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=r.sent,a({type:E,payload:c.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),a({type:S,payload:{error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},tt=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:k}),t.next=4,v.get("products/".concat(e));case 4:a=t.sent,r({type:w,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:N,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},rt=function(e,t){return function(){var r=Object(m.a)(x.a.mark((function r(a,c){var n;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.get("products/".concat(e));case 2:n=r.sent,a({type:W,payload:{product:n.data._id,name:n.data.name,image:n.data.image,price:n.data.price,countInStock:n.data.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},at=(r(114),r(10)),ct=r(135),nt=r(74);var st=function(e){var t=Object(c.useState)(""),r=Object(at.a)(t,2),n=r[0],s=r[1];return Object(a.jsxs)(ct.a,{onSubmit:function(t){t.preventDefault(),n.trim()?e.history.push("/search/".concat(n)):e.history.push("/")},inline:!0,children:[Object(a.jsx)(ct.a.Control,{type:"text",name:"q",value:n,onChange:function(e){return s(e.target.value)},placeholder:"Search Product...",className:"mr-sm-2 ml-sm-5"}),Object(a.jsx)(nt.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},it=(r(116),r(137)),ot=r(127),jt=r(128),dt=r(134),lt=r(14);var ut=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.user})).userInfo;return Object(a.jsx)("header",{children:Object(a.jsx)(it.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(a.jsxs)(ot.a,{children:[Object(a.jsx)(lt.LinkContainer,{to:"/",children:Object(a.jsx)(it.a.Brand,{className:"cursor-pointer",children:"ProShop"})}),Object(a.jsx)(it.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(it.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsx)(o.d,{render:function(e){var t=e.history;return Object(a.jsx)(st,{history:t})}}),Object(a.jsxs)(jt.a,{className:"ml-auto",children:[Object(a.jsx)(lt.LinkContainer,{to:"/cart",children:Object(a.jsxs)(jt.a.Link,{children:[Object(a.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),t?Object(a.jsxs)(dt.a,{title:t.name,id:"username",children:[Object(a.jsx)(lt.LinkContainer,{to:"/profile",children:Object(a.jsx)(dt.a.Item,{children:"Profile"})}),Object(a.jsx)(dt.a.Item,{onClick:function(){e(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),localStorage.removeItem("token"),localStorage.removeItem("cartItems"),t({type:ne}),t({type:be}),t({type:Je}),t({type:ge}),t({type:ee});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}):Object(a.jsx)(lt.LinkContainer,{to:"/login",children:Object(a.jsxs)(jt.a.Link,{children:[Object(a.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),t&&t.isAdmin&&Object(a.jsxs)(dt.a,{title:"Admin",id:"adminmenu",children:[Object(a.jsx)(lt.LinkContainer,{to:"/admin/userlist",children:Object(a.jsx)(dt.a.Item,{children:"Users"})}),Object(a.jsx)(lt.LinkContainer,{to:"/admin/productlist",children:Object(a.jsx)(dt.a.Item,{children:"Product"})}),Object(a.jsx)(lt.LinkContainer,{to:"/admin/orderlist",children:Object(a.jsx)(dt.a.Item,{children:"Order"})})]})]})]})]})})})};var bt=function(){return Object(a.jsx)("footer",{children:Object(a.jsx)(ot.a,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(O.a,{className:"text-center py-3",children:"Copyright \xa9 ProShop"})})})})};var Ot=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ut,{}),Object(a.jsx)(ot.a,{children:Object(a.jsx)("div",{className:"main py-3",children:e.children})}),Object(a.jsx)(bt,{})]})},pt=(r(119),r(139));r(120);function ht(e){var t=e.value,r=e.text,c=e.color;return Object(a.jsxs)("div",{className:"rating",children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{style:{color:c},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{style:{color:c},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{style:{color:c},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{style:{color:c},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{style:{color:c},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(a.jsx)("span",{children:r&&r})]})}ht.defaultProps={color:"#f8e825"};var xt=ht;var mt=function(e){var t=e.product;return Object(a.jsxs)(pt.a,{className:"my-3 p-3 rounded",children:[Object(a.jsx)(u.Link,{to:"/product/".concat(t._id),children:Object(a.jsx)(pt.a.Img,{src:"http://localhost:2000"+t.image,variant:"top"})}),Object(a.jsxs)(pt.a.Body,{children:[Object(a.jsx)(u.Link,{to:"/product/".concat(t._id),children:Object(a.jsx)(pt.a.Title,{as:"div",children:Object(a.jsx)("strong",{children:t.name})})}),Object(a.jsx)(pt.a.Text,{as:"div",children:Object(a.jsx)(xt,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(a.jsx)(pt.a.Text,{as:"h3",children:"\u20b1".concat(t.price)})]})]})},ft=r(130);var gt=function(){return Object(a.jsx)(ft.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})},vt=r(138);function yt(e){var t=e.variant,r=e.children;return Object(a.jsx)(vt.a,{variant:t,children:r})}yt.defaultProps={variant:"info"};var Et=yt,St=r(30),It=r(140);var Rt=function(e){var t=e.pages,r=e.page,c=e.isAdmin,n=void 0!==c&&c,s=e.keyword,i=void 0===s?"":s;return t>1&&Object(a.jsx)(It.a,{children:Object(St.a)(Array(t).keys()).map((function(e){return Object(a.jsx)(lt.LinkContainer,{to:n?"/admin/productlist/".concat(e+1):i?"/search/".concat(i,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(a.jsx)(It.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},_t=(r(121),r(136)),Ct=r(131);var Tt=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.productTopRated})),r=t.products,n=t.loading,s=t.error;return Object(c.useEffect)((function(){e(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:I}),e.next=4,v.get("/products/top");case 4:r=e.sent,t({type:R,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:_,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(a.jsx)(gt,{}):s?Object(a.jsx)(Et,{variant:"danger",children:s}):Object(a.jsx)(_t.a,{pause:"hover",className:"bg-dark",children:null===r||void 0===r?void 0:r.map((function(e){return Object(a.jsx)(_t.a.Item,{children:Object(a.jsxs)(u.Link,{to:"/product/".concat(e._id),children:[Object(a.jsx)(Ct.a,{src:"http://localhost:2000"+e.image,alt:e.name,fluid:!0}),Object(a.jsx)(_t.a.Caption,{className:"carouse-caption",children:Object(a.jsxs)("h2",{children:[e.name," (",e.price,")"]})})]})},e._id)}))})},Pt=r(76);function Dt(e){var t=e.title,r=e.description,c=e.keywords;return Object(a.jsxs)(Pt.a,{children:[Object(a.jsx)("title",{children:t}),Object(a.jsx)("meta",{name:"description",conent:r}),Object(a.jsx)("meta",{name:"keywords",content:c})]})}Dt.defaultProps={title:"Welcome To Proshop",description:"We sell the best products for cheap",keywords:"electronics, but electronics, cheap electronics"};var At=Dt;var Lt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.product})),n=r.products,s=r.loading,i=r.error,o=r.page,j=r.pages,d=e.match.params.keyword,l=e.match.params.pageNumber||1;return Object(c.useEffect)((function(){t(et(d,l))}),[t,d,l]),console.log(n),Object(a.jsxs)(Ot,{children:[Object(a.jsx)(At,{}),d?Object(a.jsx)(u.Link,{to:"/",className:"btn btn-light",children:"Go Back"}):Object(a.jsx)(Tt,{}),Object(a.jsx)("h1",{children:"Latest Products"}),s?Object(a.jsx)(gt,{}):i?Object(a.jsx)(Et,{variant:"danger",children:i}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:n.map((function(e){return Object(a.jsx)(O.a,{sm:12,md:6,lg:4,xl:3,children:Object(a.jsx)(mt,{product:e})},e._id)}))}),Object(a.jsx)(Rt,{pages:j,page:o,keyword:d||""})]})]})},Ut=r(132);var kt=function(e){var t,r,n=Object(p.b)(),s=Object(p.c)((function(e){return e.productDetails})),i=s.loading,o=s.error,j=s.product,d=s.createReview,l=d.successCreateReview,h=d.errorCreactReview,f=Object(p.c)((function(e){return e.user})).userInfo,g=Object(c.useState)(1),y=Object(at.a)(g,2),E=y[0],S=y[1],I=Object(c.useState)(0),R=Object(at.a)(I,2),_=R[0],C=R[1],T=Object(c.useState)(""),P=Object(at.a)(T,2),D=P[0],A=P[1];return Object(c.useEffect)((function(){l&&(alert("Review Submitted!"),C(0),A(0),n({type:B})),n(tt(e.match.params.id))}),[n,e.match,l]),Object(a.jsxs)(Ot,{children:[Object(a.jsx)(u.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),i?Object(a.jsx)(gt,{}):o?Object(a.jsx)(Et,{variant:"danger",children:o}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:6,children:Object(a.jsx)(Ct.a,{src:"http://localhost:2000"+j.image,alt:j.name,fluid:!0})}),Object(a.jsx)(O.a,{md:3,children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)("h2",{children:j.name})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)(xt,{value:j.rating,text:"".concat(j.numReviews," reviews")})}),Object(a.jsxs)(Ut.a.Item,{children:["Price: \u20b1",j.price]}),Object(a.jsxs)(Ut.a.Item,{children:["Description: ",j.description]})]})}),Object(a.jsx)(O.a,{md:3,children:Object(a.jsxs)(pt.a,{children:[Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Price:"}),Object(a.jsx)(O.a,{children:Object(a.jsxs)("strong",{children:["\u20b1",j.price]})})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Status:"}),Object(a.jsx)(O.a,{children:j.countInStock>0?"In Stock":"Out Of Stock"})]})}),j.countInStock>0&&Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Qty"}),Object(a.jsx)(O.a,{children:Object(a.jsx)(ct.a.Control,{as:"select",value:E,onChange:function(e){return S(e.target.value)},children:Object(St.a)(Array(j.countInStock).keys()).map((function(e){return Object(a.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)(nt.a,{onClick:function(t){t.preventDefault(),e.history.push("/cart/".concat(e.match.params.id,"?qty=").concat(E))},className:"btn-block",type:"button",disabled:0===j.countInStock,children:"ADD TO CART"})})]})})]}),Object(a.jsx)(b.a,{children:Object(a.jsxs)(O.a,{md:6,children:[Object(a.jsx)("h2",{children:"Reviews"}),0===(null===(t=j.reviews)||void 0===t?void 0:t.length)&&Object(a.jsx)(Et,{children:"No reviews"}),Object(a.jsxs)(Ut.a,{variant:"flush",children:[null===(r=j.reviews)||void 0===r?void 0:r.map((function(e){return Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("strong",{children:e.name}),Object(a.jsx)(xt,{value:e.rating}),Object(a.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(a.jsx)("p",{children:e.comment})]},e._id)})),Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Write a Customer Review"}),h&&Object(a.jsx)(Et,{variant:"danger",children:h}),f?Object(a.jsxs)(ct.a,{onSubmit:function(t){var r,a;t.preventDefault(),n((r=e.match.params.id,a={rating:_,comment:D},function(){var e=Object(m.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),e.next=4,v.post("/products/".concat(r,"/reviews"),a);case 4:c=e.sent,t({type:V,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:$,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)(ct.a.Group,{controlId:"rating",children:[Object(a.jsx)(ct.a.Label,{children:"Rating"}),Object(a.jsxs)(ct.a.Control,{as:"select",value:_,onChange:function(e){return C(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"Select ...."}),Object(a.jsx)("option",{value:"1",children:"1 - Poor"}),Object(a.jsx)("option",{value:"2",children:"2 - Fair"}),Object(a.jsx)("option",{value:"3",children:"3 - Good"}),Object(a.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(a.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(a.jsxs)(ct.a.Group,{controlId:"comment",children:[Object(a.jsx)(ct.a.Label,{children:"Comment"}),Object(a.jsx)(ct.a.Control,{as:"textarea",row:"3",value:D,onChange:function(e){return A(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Submit"})]}):Object(a.jsxs)(Et,{children:["Please ",Object(a.jsx)(u.Link,{to:"/login",children:"sign in"})," to write a review"]})]})]})]})})]})]})},wt=r(79);var Nt=function(e){var t=e.match,r=e.location,n=e.history,s=Object(p.b)(),i=Object(p.c)((function(e){return e.cart})),o=t.params.id,j=r.search?Number(r.search.split("=")[1]):1,d=i.cartItems;Object(c.useEffect)((function(){o&&s(rt(o,j))}),[s,o,j]);var l=function(e){s(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r,a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:z,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(a.jsx)(Ot,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsxs)(O.a,{md:8,children:[Object(a.jsx)("h1",{children:"Shopping Cart"}),0===d.length?Object(a.jsxs)(Et,{children:["Your cart is empty ",Object(a.jsx)(u.Link,{to:"/",children:"Go Back"})]}):Object(a.jsx)(Ut.a,{variant:"flush",children:d.map((function(e){return Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:2,children:Object(a.jsx)(Ct.a,{src:"http://localhost:2000"+e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(a.jsx)(O.a,{md:3,children:Object(a.jsx)(u.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(a.jsxs)(O.a,{md:2,children:["$",e.price]}),Object(a.jsx)(O.a,{md:2,children:Object(a.jsx)(ct.a.Control,{as:"select",value:e.qty,onChange:function(t){return s(rt(e.product,Number(t.target.value)))},children:Object(St.a)(Array(e.countInStock).keys()).map((function(e){return Object(a.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(a.jsx)(O.a,{md:2,children:Object(a.jsx)(nt.a,{type:"button",variant:"light",onClick:function(){return l(e.product)},children:Object(a.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(a.jsx)(O.a,{md:4,children:Object(a.jsx)(pt.a,{children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsxs)(wt.a,{children:[Object(a.jsxs)("h2",{children:["Subtotal (",d.reduce((function(e,t){return e+t.qty}),0),") items"]}),"$",d.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)(nt.a,{type:"button",className:"btn-block",disabled:0===d.length,onClick:function(){n.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})})]})})};var Gt=function(e){return Object(a.jsx)(ot.a,{children:Object(a.jsx)(b.a,{className:"justify-content-md-center",children:Object(a.jsx)(O.a,{xs:12,md:6,children:e.children})})})};var Ft=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.user})),n=Object(o.k)(),s=r.userInfo,i=r.loading,j=r.error,d=Object(c.useState)(""),l=Object(at.a)(d,2),h=l[0],f=l[1],g=Object(c.useState)(""),y=Object(at.a)(g,2),E=y[0],S=y[1],I=e.location.search?e.location.search.split("=")[1]:"/";return Object(c.useEffect)((function(){s&&n.push(I)}),[n,s,I]),Object(a.jsx)(Ot,{children:Object(a.jsxs)(Gt,{children:[Object(a.jsx)("h1",{children:"Sign In"}),j&&Object(a.jsx)(Et,{variant:"danger",children:j}),i&&Object(a.jsx)(gt,{}),Object(a.jsxs)(ct.a,{onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var r=Object(m.a)(x.a.mark((function r(a){var c,n;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:te}),r.next=4,v.post("/users/login",{email:e,password:t});case 4:c=r.sent,n=c.data.token,localStorage.setItem("token",n),localStorage.setItem("userInfo",JSON.stringify(c.data)),a({type:re,payload:c.data}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:ae,payload:{error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(h,E))},children:[Object(a.jsxs)(ct.a.Group,{controlId:"email",children:[Object(a.jsx)(ct.a.Label,{children:"Email Address"}),Object(a.jsx)(ct.a.Control,{type:"email",placeholder:"Enter Email",value:h,onChange:function(e){return f(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"password",children:[Object(a.jsx)(ct.a.Label,{children:"Password"}),Object(a.jsx)(ct.a.Control,{type:"password",placeholder:"Enter Password",value:E,onChange:function(e){return S(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(a.jsx)(b.a,{className:"py-3",children:Object(a.jsxs)(O.a,{children:["New Customer?"," ",Object(a.jsx)(u.Link,{to:I?"/register?redirect=".concat(I):"/register",children:"Register"})]})})]})})};var Mt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.user})),n=Object(o.k)(),s=r.userInfo,i=r.loading,j=r.error,d=Object(c.useState)(""),l=Object(at.a)(d,2),h=l[0],f=l[1],g=Object(c.useState)(""),y=Object(at.a)(g,2),E=y[0],S=y[1],I=Object(c.useState)(""),R=Object(at.a)(I,2),_=R[0],C=R[1],T=Object(c.useState)(""),P=Object(at.a)(T,2),D=P[0],A=P[1],L=Object(c.useState)(null),U=Object(at.a)(L,2),k=U[0],w=U[1],N=e.location.search?e.location.search.split("=")[1]:"/";return Object(c.useEffect)((function(){s&&n.push(N)}),[n,s,N]),Object(a.jsx)(Ot,{children:Object(a.jsxs)(Gt,{children:[Object(a.jsx)("h1",{children:"Sign Up"}),k&&Object(a.jsx)(Et,{variant:"danger",children:k}),j&&Object(a.jsx)(Et,{variant:"danger",children:j}),i&&Object(a.jsx)(gt,{}),Object(a.jsxs)(ct.a,{onSubmit:function(e){e.preventDefault(),_!==D?w("Password do not match"):t(function(e,t,r){return function(){var a=Object(m.a)(x.a.mark((function a(c){var n;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:ie}),a.next=4,v.post("/users",{name:e,email:t,password:r});case 4:n=a.sent,c({type:oe,payload:n.data}),localStorage.setItem("userInfo",JSON.stringify(n.data)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c({type:je,payload:{error:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(h,E,_))},children:[Object(a.jsxs)(ct.a.Group,{controlId:"name",children:[Object(a.jsx)(ct.a.Label,{children:"Name"}),Object(a.jsx)(ct.a.Control,{type:"name",placeholder:"Enter Name",value:h,onChange:function(e){return f(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"email",children:[Object(a.jsx)(ct.a.Label,{children:"Email Address"}),Object(a.jsx)(ct.a.Control,{type:"email",placeholder:"Enter Email",value:E,onChange:function(e){return S(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"password",children:[Object(a.jsx)(ct.a.Label,{children:"Password"}),Object(a.jsx)(ct.a.Control,{type:"password",placeholder:"Enter Password",value:_,onChange:function(e){return C(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(ct.a.Label,{children:"Confirm Password"}),Object(a.jsx)(ct.a.Control,{type:"password",placeholder:"Enter Password",value:D,onChange:function(e){return A(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(a.jsx)(b.a,{className:"py-3",children:Object(a.jsxs)(O.a,{children:["Have an Account?"," ",Object(a.jsx)(u.Link,{to:N?"/login?redirect=".concat(N):"/login",children:"Login"})]})})]})})},Qt=r(133),qt=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:we}),t.next=4,v.get("/orders/".concat(e));case 4:a=t.sent,console.log("GET ORDER DETAILS >>>>",a.data),r({type:Ne,payload:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ge,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};var Vt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.user})),n=Object(p.c)((function(e){return e.orderList})),s=n.orders,i=n.loading,o=n.error,j=r.userInfo,d=r.loading,l=r.error,u=r.success,h=Object(c.useState)(""),f=Object(at.a)(h,2),g=f[0],y=f[1],E=Object(c.useState)(""),S=Object(at.a)(E,2),I=S[0],R=S[1],_=Object(c.useState)(""),C=Object(at.a)(_,2),T=C[0],P=C[1],D=Object(c.useState)(""),A=Object(at.a)(D,2),L=A[0],U=A[1],k=Object(c.useState)(null),w=Object(at.a)(k,2),N=w[0],G=w[1];return Object(c.useEffect)((function(){j?(j.name?(y(j.name),R(j.email)):t(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),e.next=4,v.get("/users/profile");case 4:r=e.sent,t({type:le,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ue,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ve}),e.next=4,v.get("/orders/myorders");case 4:r=e.sent,t({type:$e,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:Be,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())):e.history.push("/login")}),[t,j,e.history]),Object(a.jsx)(Ot,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsxs)(O.a,{md:3,children:[Object(a.jsx)("h2",{children:"User Profile"}),N&&Object(a.jsx)(Et,{variant:"danger",children:N}),l&&Object(a.jsx)(Et,{variant:"danger",children:l}),u&&Object(a.jsx)(Et,{variant:"success",children:"Profile Updated"}),d&&Object(a.jsx)(gt,{}),Object(a.jsxs)(ct.a,{onSubmit:function(e){e.preventDefault(),T!==L?G("Password do not match"):(t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Oe}),t.next=4,v.put("/users/profile",e);case 4:a=t.sent,r({type:pe,payload:a.data}),localStorage.setItem("userInfo",JSON.stringify(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:he,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}({id:r._id,name:g,email:I,password:T})),P(""),U(""))},children:[Object(a.jsxs)(ct.a.Group,{controlId:"name",children:[Object(a.jsx)(ct.a.Label,{children:"Name"}),Object(a.jsx)(ct.a.Control,{type:"name",placeholder:"Enter Name",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"email",children:[Object(a.jsx)(ct.a.Label,{children:"Email Address"}),Object(a.jsx)(ct.a.Control,{type:"email",placeholder:"Enter Email",value:I,onChange:function(e){return R(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"password",children:[Object(a.jsx)(ct.a.Label,{children:"Password"}),Object(a.jsx)(ct.a.Control,{type:"password",placeholder:"Enter Password",value:T,onChange:function(e){return P(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(ct.a.Label,{children:"Confirm Password"}),Object(a.jsx)(ct.a.Control,{type:"password",placeholder:"Enter Password",value:L,onChange:function(e){return U(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(a.jsxs)(O.a,{md:9,children:[Object(a.jsx)("h2",{children:"My Orders"}),i?Object(a.jsx)(gt,{}):o?Object(a.jsx)(Et,{variant:"danger",children:o}):Object(a.jsxs)(Qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"DATE"}),Object(a.jsx)("th",{children:"TOTAL"}),Object(a.jsx)("th",{children:"PAID"}),Object(a.jsx)("th",{children:"DELIVERED"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e._id}),Object(a.jsx)("td",{children:e.createdAt.substr(0,10)}),Object(a.jsx)("td",{children:e.totalPrice}),Object(a.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsx)("td",{children:e.isDelivered?e.paidAt.substring(0,10):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsx)("td",{children:Object(a.jsx)(lt.LinkContainer,{to:"/order/".concat(e._id),children:Object(a.jsx)(nt.a,{variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})})};var $t=function(e){var t=e.step1,r=e.step2,c=e.step3,n=e.step4;return Object(a.jsxs)(jt.a,{className:"justify-content-center mb-4",children:[Object(a.jsx)(jt.a.Item,{children:t?Object(a.jsx)(lt.LinkContainer,{to:"/login",children:Object(a.jsx)(jt.a.Link,{children:"Sign In"})}):Object(a.jsx)(jt.a.Link,{disabled:!0,children:"Sign In"})}),Object(a.jsx)(jt.a.Item,{children:r?Object(a.jsx)(lt.LinkContainer,{to:"/shipping",children:Object(a.jsx)(jt.a.Link,{children:"Shipping"})}):Object(a.jsx)(jt.a.Link,{disabled:!0,children:"Shipping"})}),Object(a.jsx)(jt.a.Item,{children:c?Object(a.jsx)(lt.LinkContainer,{to:"/payment",children:Object(a.jsx)(jt.a.Link,{children:"Payment"})}):Object(a.jsx)(jt.a.Link,{disabled:!0,children:"Payment"})}),Object(a.jsx)(jt.a.Item,{children:n?Object(a.jsx)(lt.LinkContainer,{to:"/placeorder",children:Object(a.jsx)(jt.a.Link,{children:"Place Order"})}):Object(a.jsx)(jt.a.Link,{disabled:!0,children:"Place Order"})})]})};var Bt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.cart})).shippingAddress,n=Object(c.useState)(r.address),s=Object(at.a)(n,2),i=s[0],o=s[1],j=Object(c.useState)(r.city),d=Object(at.a)(j,2),l=d[0],u=d[1],b=Object(c.useState)(r.postalCode),O=Object(at.a)(b,2),h=O[0],f=O[1],g=Object(c.useState)(r.country),v=Object(at.a)(g,2),y=v[0],E=v[1];return Object(a.jsx)(Ot,{children:Object(a.jsxs)(Gt,{children:[Object(a.jsx)($t,{step1:!0,step2:!0}),Object(a.jsx)("h1",{children:"Shipping"}),Object(a.jsxs)(ct.a,{onSubmit:function(r){var a;r.preventDefault(),t((a={address:i,city:l,postalCode:h,country:y},function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:X,payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/payment")},children:[Object(a.jsxs)(ct.a.Group,{controlId:"address",children:[Object(a.jsx)(ct.a.Label,{children:"Address"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter Address",value:i,required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"city",children:[Object(a.jsx)(ct.a.Label,{children:"City"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter City",value:l,required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"postalCode",children:[Object(a.jsx)(ct.a.Label,{children:"Postal Code"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter postal code",value:h,required:!0,onChange:function(e){return f(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"country",children:[Object(a.jsx)(ct.a.Label,{children:"Country"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter country",value:y,required:!0,onChange:function(e){return E(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})})};var Jt=function(e){var t=Object(p.b)();Object(p.c)((function(e){return e.cart})).shippingAddress||e.history.push("/shipping");var r=Object(c.useState)("PayPal"),n=Object(at.a)(r,2),s=n[0],i=n[1];return Object(a.jsx)(Ot,{children:Object(a.jsxs)(Gt,{children:[Object(a.jsx)($t,{step1:!0,step2:!0,step3:!0}),Object(a.jsx)("h1",{children:"Payment Method"}),Object(a.jsxs)(ct.a,{onSubmit:function(r){var a;r.preventDefault(),t((a=s,function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Z,payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/placeorder")},children:[Object(a.jsxs)(ct.a.Group,{children:[Object(a.jsx)(ct.a.Label,{as:"legend",children:"Select Method"}),Object(a.jsx)(O.a,{children:Object(a.jsx)(ct.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return i(e.target.value)}})})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})})};var Wt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.cart})),n=Object(p.c)((function(e){return e.order})),s=n.orderDetails,i=n.success,o=n.error,j=function(e){return(Math.round(100*e)/100).toFixed(2)};return r.itemPrice=j(r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),r.shippingPrice=j(r.itemPrice>100?0:100),r.taxPrice=j(Number((.15*r.itemPrice).toFixed(2))),r.totalPrice=(Number(r.itemPrice)+Number(r.shippingPrice)+Number(r.taxPrice)).toFixed(2),Object(c.useEffect)((function(){i&&e.history.push("/order/".concat(s._id))}),[e.history,i,s]),Object(a.jsxs)(Ot,{children:[Object(a.jsx)($t,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:8,children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Shipping"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Address: "}),r.shippingAddress.address,", ",r.shippingAddress.city," ,"," ",r.shippingAddress.postalCode,","," ",r.shippingAddress.country]})]}),Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Payment Method"}),Object(a.jsx)("strong",{children:"Method: "}),r.paymentMethod]}),Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Order Items"}),0===r.cartItems.length?Object(a.jsx)(Et,{children:"Your cart is empty"}):Object(a.jsx)(Ut.a,{variant:"flush",children:r.cartItems.map((function(e,t){return Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:1,children:Object(a.jsx)(Ct.a,{src:"http://localhost:2000"+e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(u.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(a.jsxs)(O.a,{md:4,children:[e.qty," x $",e.price," = $",j(e.qty*e.price)]})]})},t)}))})]})]})}),Object(a.jsx)(O.a,{md:4,children:Object(a.jsx)(pt.a,{children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)("h2",{children:"Order Summary"})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Items"}),Object(a.jsxs)(O.a,{children:["$",r.itemPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Shipping"}),Object(a.jsxs)(O.a,{children:["$",r.shippingPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Tax"}),Object(a.jsxs)(O.a,{children:["$",r.taxPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Total"}),Object(a.jsxs)(O.a,{children:["$",r.totalPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:o&&Object(a.jsx)(Et,{variant:"danger",children:o})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)(nt.a,{type:"button",className:"btn-block",disabled:0===r.cartItems,onClick:function(){t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Le}),t.next=4,v.post("/orders",e);case 4:a=t.sent,console.log("GET ORDER >>>>",a.data),r({type:Ue,payload:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:ke,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice}))},children:"PLACE ORDER"})})]})})})]})]})},Yt=r(80);var Ht=function(e){var t,r,n,s,i,o,j,d,l,h,f=Object(p.b)(),g=Object(p.c)((function(e){return e.order})),y=g.orderDetails,E=g.loading,S=g.error,I=g.orderPay,R=g.orderDeliver,_=I.loadingPay,C=I.successPay,T=R.successDeliver,P=Object(p.c)((function(e){return e.user})).userInfo,D=e.match.params.id,A=Object(c.useState)(!1),L=Object(at.a)(A,2),U=L[0],k=L[1],w=function(e){return(Math.round(100*e)/100).toFixed(2)};return y.itemPrice=w(null===(t=y.orderItems)||void 0===t?void 0:t.reduce((function(e,t){return e+t.price*t.qty}),0)),Object(c.useEffect)((function(){P||e.history.push("/login")}),[P,e.history]),Object(c.useEffect)((function(){var e=function(){var e=Object(m.a)(x.a.mark((function e(){var t,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/config/paypal");case 2:t=e.sent,r=t.data,(a=document.createElement("script")).type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(r),a.async=!0,a.onload=function(){k(!0)},document.body.appendChild(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C||T?(f({type:Ze}),f({type:qe}),f(qt(D))):y.isPaid||(window.paypal?k(!0):e())}),[f,D,C,y,T]),Object(c.useEffect)((function(){f(qt(D))}),[f,D]),Object(a.jsx)(Ot,{children:E?Object(a.jsx)(gt,{}):S?Object(a.jsx)(Et,{variant:"danger",children:S}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{children:["Order ",y._id]}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:8,children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Shipping"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Name: "})," ",null===(r=y.user)||void 0===r?void 0:r.name]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Email: "}),Object(a.jsx)("a",{href:"mailto:".concat(null===(n=y.user)||void 0===n?void 0:n.email),children:null===(s=y.user)||void 0===s?void 0:s.email})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Address: "}),null===(i=y.shippingAddress)||void 0===i?void 0:i.address,","," ",null===(o=y.shippingAddress)||void 0===o?void 0:o.city," ,"," ",null===(j=y.shippingAddress)||void 0===j?void 0:j.postalCode,","," ",null===(d=y.shippingAddress)||void 0===d?void 0:d.country]}),y.isDelivered?Object(a.jsxs)(Et,{variant:"success",children:["Delivered on ",y.deliveredAt]}):Object(a.jsx)(Et,{variant:"danger",children:"Not Delivered"})]}),Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Payment Method"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Method: "}),y.paymentMethod]}),y.isPaid?Object(a.jsxs)(Et,{variant:"success",children:["Paid on ",y.paidAt]}):Object(a.jsx)(Et,{variant:"danger",children:"Not Paid"})]}),Object(a.jsxs)(Ut.a.Item,{children:[Object(a.jsx)("h2",{children:"Order Items"}),0===(null===(l=y.orderItems)||void 0===l?void 0:l.length)?Object(a.jsx)(Et,{children:"Order is empty"}):Object(a.jsx)(Ut.a,{variant:"flush",children:null===(h=y.orderItems)||void 0===h?void 0:h.map((function(e,t){return Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{md:1,children:Object(a.jsx)(Ct.a,{src:"http://localhost:2000"+e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(a.jsx)(O.a,{children:Object(a.jsx)(u.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(a.jsxs)(O.a,{md:4,children:[e.qty," x $",e.price," = $",w(e.qty*e.price)]})]})},t)}))})]})]})}),Object(a.jsx)(O.a,{md:4,children:Object(a.jsx)(pt.a,{children:Object(a.jsxs)(Ut.a,{variant:"flush",children:[Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)("h2",{children:"Order Summary"})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Items"}),Object(a.jsxs)(O.a,{children:["$",y.itemPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Shipping"}),Object(a.jsxs)(O.a,{children:["$",y.shippingPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Tax"}),Object(a.jsxs)(O.a,{children:["$",y.taxPrice]})]})}),Object(a.jsx)(Ut.a.Item,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{children:"Total"}),Object(a.jsxs)(O.a,{children:["$",y.totalPrice]})]})}),!y.isPaid&&Object(a.jsxs)(Ut.a.Item,{children:[_&&Object(a.jsx)(gt,{}),U?Object(a.jsx)(Yt.PayPalButton,{amount:y.totalPrice,onSuccess:function(e){console.log(e),f(function(e,t){return function(){var r=Object(m.a)(x.a.mark((function r(a){var c;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:Fe}),r.next=4,v.put("/orders/".concat(e,"/pay"),t);case 4:c=r.sent,a({type:Me,payload:c.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),a({type:Qe,payload:{error:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message}});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(D,e))}}):Object(a.jsx)(gt,{})]}),P.isAdmin&&y.isPaid&&!y.isDelivered&&Object(a.jsx)(Ut.a.Item,{children:Object(a.jsx)(nt.a,{type:"button",className:"btn btn-block",onClick:function(){f(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ze}),t.next=4,v.put("/orders/".concat(e,"/deliver"),{});case 4:a=t.sent,r({type:Ke,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:Xe,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(D))},children:"Mark As Delivered"})})]})})})]})]})})};var zt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.userList})),n=r.users,s=r.loading,i=r.error,o=Object(p.c)((function(e){return e.user})).userInfo;Object(c.useEffect)((function(){o&&o.isAdmin?t(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:xe}),e.next=4,v.get("/users");case 4:r=e.sent,t({type:me,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:fe,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()):e.history.push("/login")}),[t,e.history,o]);var j=function(e){window.confirm("Are you sure you want to delete this?")&&t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ve}),t.next=4,v.delete("/users/".concat(e));case 4:a=t.sent,r({type:ye,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:Ee,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(a.jsxs)(Ot,{children:[Object(a.jsx)("h1",{children:"Users"}),s?Object(a.jsx)(gt,{}):i?Object(a.jsx)(Et,{variant:"danger",children:i}):Object(a.jsxs)(Qt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"NAME"}),Object(a.jsx)("th",{children:"EMAIL"}),Object(a.jsx)("th",{children:"ADMIN"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e._id}),Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(a.jsx)("td",{children:e.isAdmin?Object(a.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsxs)("td",{children:[Object(a.jsx)(lt.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(a.jsx)(nt.a,{varint:"light",className:"btn-sm",children:Object(a.jsx)("i",{className:"fas fa-edit"})})}),Object(a.jsx)(nt.a,{variant:"danger",className:"btn-sm",onClick:function(){return j(e._id)},children:Object(a.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})};var Kt=function(e){var t=e.match.params.id,r=Object(p.b)(),n=Object(p.c)((function(e){return e.userDetails})),s=n.user,i=n.loading,o=n.error,j=n.success,d=Object(c.useState)(""),l=Object(at.a)(d,2),b=l[0],O=l[1],h=Object(c.useState)(""),f=Object(at.a)(h,2),g=f[0],y=f[1],E=Object(c.useState)(""),S=Object(at.a)(E,2),I=S[0],R=S[1];return Object(c.useEffect)((function(){j&&(r({type:Ae}),e.history.push("/admin/userList")),(null===s||void 0===s?void 0:s.name)&&(null===s||void 0===s?void 0:s._id)===t?(O(s.name),y(s.email),R(s.isAdmin)):r(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ie}),t.next=4,v.get("/users/".concat(e));case 4:a=t.sent,r({type:Re,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:_e,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[r,t,s,j,e.history]),Object(a.jsxs)(Ot,{children:[Object(a.jsx)(u.Link,{to:"/admin/userList",className:"btn btn-light my-3",children:"Go Back"}),Object(a.jsxs)(Gt,{children:[Object(a.jsx)("h1",{children:"Edit User"}),i?Object(a.jsx)(gt,{}):o?Object(a.jsx)(Et,{variant:"danger",children:o}):Object(a.jsxs)(ct.a,{onSubmit:function(e){e.preventDefault();var t={name:b,email:g,isAdmin:I};r(function(e,t){return function(){var r=Object(m.a)(x.a.mark((function r(a){var c;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:Te}),r.next=4,v.put("/users/".concat(e),t);case 4:c=r.sent,a({type:Pe,payload:c.data}),a({type:Ae}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a({type:De});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(s._id,t))},children:[Object(a.jsxs)(ct.a.Group,{controlId:"name",children:[Object(a.jsx)(ct.a.Label,{children:"Name"}),Object(a.jsx)(ct.a.Control,{type:"name",placeholder:"Enter Name",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"email",children:[Object(a.jsx)(ct.a.Label,{children:"Email Address"}),Object(a.jsx)(ct.a.Control,{type:"email",placeholder:"Enter Email",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(a.jsx)(ct.a.Group,{controlId:"isadmin",children:Object(a.jsx)(ct.a.Check,{type:"checkbox",label:"Is Admin",checked:I,onChange:function(e){return R(e.target.checked)}})}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})};var Xt=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.user})).userInfo,n=Object(p.c)((function(e){return e.product})),s=n.products,i=n.loading,o=n.error,j=n.pages,d=n.page,l=Object(p.c)((function(e){return e.productDetails})),u=l.success,h=l.product,f=l.loading,g=l.error,y=e.match.params.pageNumber||1;Object(c.useEffect)((function(){t({type:Q}),r.isAdmin||e.history.push("/login"),u?e.history.push("/admin/product/".concat(h._id,"/edit")):t(et("",y))}),[t,e.history,r,u,h,y]);var E=function(e){window.confirm("Are you sure you want to delete this?")&&t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:C}),t.next=4,v.delete("/products/".concat(e));case 4:a=t.sent,r({type:T,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:P,payload:{error:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(a.jsxs)(Ot,{children:[Object(a.jsxs)(b.a,{className:"align-items-center",children:[Object(a.jsx)(O.a,{children:Object(a.jsx)("h1",{children:"Products"})}),Object(a.jsx)(O.a,{className:"text-right",children:Object(a.jsxs)(nt.a,{className:"my-3",onClick:function(){t(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:G}),e.next=4,v.post("/products",{});case 4:r=e.sent,t({type:F,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:M,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:[Object(a.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),f&&Object(a.jsx)(gt,{}),g&&Object(a.jsx)(Et,{variant:"danger",children:g}),i?Object(a.jsx)(gt,{}):o?Object(a.jsx)(Et,{variant:"danger",children:o}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Qt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"NAME"}),Object(a.jsx)("th",{children:"PRICE"}),Object(a.jsx)("th",{children:"CATEGORY"}),Object(a.jsx)("th",{children:"BRAND"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e._id}),Object(a.jsx)("td",{children:e.name}),Object(a.jsxs)("td",{children:["$",e.price]}),Object(a.jsx)("td",{children:e.category}),Object(a.jsx)("td",{children:e.brand}),Object(a.jsxs)("td",{children:[Object(a.jsx)(lt.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(a.jsx)(nt.a,{varint:"light",className:"btn-sm",children:Object(a.jsx)("i",{className:"fas fa-edit"})})}),Object(a.jsx)(nt.a,{variant:"danger",className:"btn-sm",onClick:function(){return E(e._id)},children:Object(a.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(a.jsx)(Rt,{pages:j,page:d,isAdmin:!0})]})]})};var Zt=function(e){var t=e.match.params.id,r=Object(p.b)(),n=Object(p.c)((function(e){return e.productDetails})),s=n.product,i=n.loading,o=n.error,j=n.success,d=Object(p.c)((function(e){return e.product})),l=d.success,b=d.error,O=Object(c.useState)(""),h=Object(at.a)(O,2),f=h[0],g=h[1],y=Object(c.useState)(0),E=Object(at.a)(y,2),S=E[0],I=E[1],R=Object(c.useState)(""),_=Object(at.a)(R,2),C=_[0],T=_[1],P=Object(c.useState)(""),k=Object(at.a)(P,2),w=k[0],N=k[1],G=Object(c.useState)(""),F=Object(at.a)(G,2),M=F[0],Q=F[1],q=Object(c.useState)(0),V=Object(at.a)(q,2),$=V[0],B=V[1],J=Object(c.useState)(""),W=Object(at.a)(J,2),Y=W[0],H=W[1],z=Object(c.useState)(!1),K=Object(at.a)(z,2),X=K[0],Z=K[1];Object(c.useEffect)((function(){l?(r({type:U}),e.history.push("/admin/productlist")):(null===s||void 0===s?void 0:s.name)&&(null===s||void 0===s?void 0:s._id)===t?(g(s.name),I(s.price),T(s.image),N(s.brand),Q(s.category),B(s.countInStock),H(s.description)):r(tt(t))}),[r,t,s,l,e.history]);var ee=function(){var e=Object(m.a)(x.a.mark((function e(t){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),Z(!0),e.prev=4,e.next=7,v.post("/upload",a);case 7:c=e.sent,T(c.data),Z(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),Z(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(Ot,{children:[Object(a.jsx)(u.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(a.jsxs)(Gt,{children:[Object(a.jsx)("h1",{children:"Edit Product"}),X&&Object(a.jsx)(gt,{}),b&&Object(a.jsx)(Et,{variant:"danger",children:b}),j&&Object(a.jsx)(Et,{variant:"success",children:"Update Success"}),i?Object(a.jsx)(gt,{}):o?Object(a.jsx)(Et,{variant:"danger",children:o}):Object(a.jsxs)(ct.a,{onSubmit:function(e){var a;e.preventDefault(),r((a={_id:t,name:f,price:S,image:C,brand:w,category:M,description:Y,countInStock:$},function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:D}),e.next=4,v.put("/products/".concat(a._id),a);case 4:r=e.sent,t({type:A,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:L,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},enctype:"multipart/form-data",children:[Object(a.jsxs)(ct.a.Group,{controlId:"name",children:[Object(a.jsx)(ct.a.Label,{children:"Name"}),Object(a.jsx)(ct.a.Control,{type:"name",placeholder:"Enter Name",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"price",children:[Object(a.jsx)(ct.a.Label,{children:"Price"}),Object(a.jsx)(ct.a.Control,{type:"number",placeholder:"Enter price",value:S,onChange:function(e){return I(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"image",children:[Object(a.jsx)(ct.a.Label,{children:"Image"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter image url",value:C,onChange:function(e){return T(e.target.value)}}),Object(a.jsx)(ct.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:ee,children:X&&Object(a.jsx)("loader",{})})]}),Object(a.jsxs)(ct.a.Group,{controlId:"brand",children:[Object(a.jsx)(ct.a.Label,{children:"Brand"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter brand",value:w,onChange:function(e){return N(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"countInStock",children:[Object(a.jsx)(ct.a.Label,{children:"Count In Stock"}),Object(a.jsx)(ct.a.Control,{type:"number",placeholder:"Enter countInStock",value:$,onChange:function(e){return B(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"category",children:[Object(a.jsx)(ct.a.Label,{children:"Category"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter category",value:M,onChange:function(e){return Q(e.target.value)}})]}),Object(a.jsxs)(ct.a.Group,{controlId:"description",children:[Object(a.jsx)(ct.a.Label,{children:"Description"}),Object(a.jsx)(ct.a.Control,{type:"text",placeholder:"Enter description",value:Y,onChange:function(e){return H(e.target.value)}})]}),Object(a.jsx)(nt.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})};var er=function(e){var t=Object(p.b)(),r=Object(p.c)((function(e){return e.orderList})),n=r.orders,s=r.loading,i=r.error,o=Object(p.c)((function(e){return e.user})),j=o.userInfo;return Object(c.useEffect)((function(){j&&j.isAdmin?t(function(){var e=Object(m.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:We}),e.next=4,v.get("/orders");case 4:r=e.sent,t({type:Ye,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:He,payload:{error:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()):e.history.push("/login")}),[t,e.history,j]),Object(a.jsxs)(Ot,{children:[Object(a.jsx)("h1",{children:"Orders"}),s?Object(a.jsx)(gt,{}):i?Object(a.jsx)(Et,{variant:"danger",children:i}):Object(a.jsxs)(Qt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"USER"}),Object(a.jsx)("th",{children:"DATE"}),Object(a.jsx)("th",{children:"TOTAL"}),Object(a.jsx)("th",{children:"PAID"}),Object(a.jsx)("th",{children:"DELIVERED"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){var t;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e._id}),Object(a.jsx)("td",{children:null===(t=e.user)||void 0===t?void 0:t.name}),Object(a.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(a.jsxs)("td",{children:["$",e.totalPrice]}),Object(a.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsx)("td",{children:Object(a.jsx)(lt.LinkContainer,{to:"/admin/order/".concat(e._id),children:Object(a.jsx)(nt.a,{varint:"light",className:"btn-sm",children:"Details"})})})]},o._id)}))})]})]})};var tr=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.g,{children:[Object(a.jsx)(o.d,{path:"/",component:Lt,exact:!0}),Object(a.jsx)(o.d,{path:"/search/:keyword",component:Lt,exact:!0}),Object(a.jsx)(o.d,{path:"/page/:pageNumber",component:Lt}),Object(a.jsx)(o.d,{path:"/search/:keyword/page/:pageNumber",component:Lt}),Object(a.jsx)(o.d,{path:"/product/:id",component:kt}),Object(a.jsx)(o.d,{path:"/cart/:id?",component:Nt}),Object(a.jsx)(o.d,{path:"/login",component:Ft}),Object(a.jsx)(o.d,{path:"/register",component:Mt}),Object(a.jsx)(o.d,{path:"/profile",component:Vt}),Object(a.jsx)(o.d,{path:"/shipping",component:Bt}),Object(a.jsx)(o.d,{path:"/payment",component:Jt}),Object(a.jsx)(o.d,{path:"/placeorder",component:Wt}),Object(a.jsx)(o.d,{path:"/order/:id",component:Ht}),Object(a.jsx)(l,{path:"/admin/userlist",component:zt}),Object(a.jsx)(l,{path:"/admin/productlist",component:Xt,exact:!0}),Object(a.jsx)(l,{path:"/admin/productlist/:pageNumber",component:Xt,exact:!0}),Object(a.jsx)(l,{path:"/admin/product/:id/edit",component:Zt}),Object(a.jsx)(l,{path:"/admin/orderlist",component:er}),Object(a.jsx)(l,{path:"/admin/order/:id",component:Ht}),Object(a.jsx)(l,{path:"/admin/user/:id/edit",component:Kt})]})})},rr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,141)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))},ar=r(29),cr=r(81),nr=r(82),sr={products:[],loading:!1,error:null,success:!1},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case E:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page});case S:return Object(j.a)(Object(j.a)({},sr),{},{loading:!1,error:t.payload.error});case C:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case T:return Object(j.a)(Object(j.a)({},e),{},{products:e.products.filter((function(e){return e._id!==t.payload._id})),loading:!1});case P:return Object(j.a)(Object(j.a)({},sr),{},{loading:!1,error:t.payload.error});case D:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case A:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,products:e.products.map((function(e){return e._id===t.payload._id?t.payload:e})),success:!0});case L:return Object(j.a)(Object(j.a)({},sr),{},{error:t.payload.error});case U:return Object(j.a)({},sr);default:return e}},or={product:[],loading:!1,error:null,success:!1,createReview:{loadingCreateReview:!1,successCreateReview:!1,errorCreactReview:null}},jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case w:return Object(j.a)(Object(j.a)({},e),{},{product:t.payload,loading:!1});case N:return Object(j.a)(Object(j.a)({},or),{},{loading:!1,error:t.payload.error});case G:return Object(j.a)(Object(j.a)({},e),{},{loading:!1});case F:return Object(j.a)(Object(j.a)({},e),{},{product:t.payload,loading:!0,success:!0});case M:return Object(j.a)(Object(j.a)({},or),{},{loading:!1,error:t.payload.error});case Q:return Object(j.a)({},or);case q:return Object(j.a)(Object(j.a)({},e),{},{createReview:{loadingCreateReview:!0}});case V:return Object(j.a)(Object(j.a)({},e),{},{createReview:{loadingCreateReview:!1,successCreateReview:!0}});case $:return Object(j.a)(Object(j.a)({},e),{},{createReview:{loadingCreateReview:!1,errorCreactReview:t.payload.error}});case B:return Object(j.a)(Object(j.a)({},e),{},{createReview:{loadingCreateReview:!1,successCreateReview:!1,errorCreactReview:null}});default:return e}},dr={cartItems:[],shippingAddress:{},paymentMethod:null,loading:!1,error:null},lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case W:var r=t.payload,a=e.cartItems.find((function(e){return e.product===r.product}));return a?Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?r:e}))}):Object(j.a)(Object(j.a)({},e),{},{cartItems:[].concat(Object(St.a)(e.cartItems),[r])});case Y:return Object(j.a)(Object(j.a)({},dr),{},{loading:!1,error:t.payload.error});case H:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case z:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case K:return Object(j.a)(Object(j.a)({},dr),{},{loading:!1});case X:return Object(j.a)(Object(j.a)({},e),{},{shippingAddress:t.payload});case Z:return Object(j.a)(Object(j.a)({},e),{},{paymentMethod:t.payload});case ee:return Object(j.a)({},dr);default:return e}},ur={userInfo:null,loading:!1,error:null,success:!1},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case re:return Object(j.a)(Object(j.a)({},e),{},{userInfo:t.payload,loading:!1,error:null});case ae:return Object(j.a)(Object(j.a)({},ur),{},{loading:!1,error:t.payload.error});case ce:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ne:return Object(j.a)(Object(j.a)({},e),{},{userInfo:null,loading:!1,error:null});case se:return Object(j.a)(Object(j.a)({},ur),{},{loading:!1,error:t.payload.error});case ie:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case oe:return Object(j.a)(Object(j.a)({},e),{},{userInfo:t.payload,loading:!1,error:null});case je:return Object(j.a)(Object(j.a)({},ur),{},{loading:!1,error:t.payload.error});case de:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case le:return Object(j.a)(Object(j.a)({},e),{},{userInfo:t.payload,loading:!1,error:null});case ue:return Object(j.a)(Object(j.a)({},ur),{},{loading:!1,error:t.payload.error});case be:return Object(j.a)(Object(j.a)({},e),{},{userInfo:null,loading:!1,error:null,success:!1});case Oe:return Object(j.a)(Object(j.a)({},e),{},{loading:!0,success:!1});case pe:return Object(j.a)(Object(j.a)({},e),{},{userInfo:t.payload,loading:!1,success:!0,error:null});case he:return Object(j.a)(Object(j.a)({},ur),{},{loading:!1,error:t.payload.error});default:return e}},Or={orderDetails:[],loading:!1,success:!1,error:null,orderPay:{loadingPay:!1,successPay:!1,error:null},orderDeliver:{loadingDeliver:!1,successDeliver:!1,errorDeliver:null}},pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Ue:return Object(j.a)(Object(j.a)({},e),{},{orderDetails:t.payload,loading:!1,success:!0});case ke:return Object(j.a)(Object(j.a)({},Or),{},{loading:!1,success:!1,error:t.payload.error});case we:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Ne:return Object(j.a)(Object(j.a)({},e),{},{orderDetails:t.payload,loading:!1});case Ge:return Object(j.a)(Object(j.a)({},Or),{},{loading:!1,error:t.payload.error});case Fe:return Object(j.a)(Object(j.a)({},e),{},{orderPay:{loadingPay:!0}});case Me:return Object(j.a)(Object(j.a)({},e),{},{orderPay:{loadingPay:!1,successPay:!0}});case Qe:return Object(j.a)(Object(j.a)({},Or),{},{orderPay:{loadingPay:!1,error:t.payload.error}});case qe:return Object(j.a)(Object(j.a)({},e),{},{orderPay:{loadingPay:!1,successPay:!1,error:null}});case ze:return Object(j.a)(Object(j.a)({},e),{},{orderDeliver:{loadingDeliver:!0}});case Ke:return Object(j.a)(Object(j.a)({},e),{},{orderDeliver:{loadingDeliver:!1,successDeliver:!0}});case Xe:return Object(j.a)(Object(j.a)({},e),{},{orderDeliver:{loadingDeliver:!1,errorDeliver:t.payload.error}});case Ze:return Object(j.a)(Object(j.a)({},e),{},{orderDeliver:{loadingDeliver:!1,successDeliver:!1,errorDeliver:null}});default:return e}},hr={users:[],loading:!1,error:null},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case me:return Object(j.a)(Object(j.a)({},e),{},{users:t.payload,loading:!1});case fe:return Object(j.a)(Object(j.a)({},hr),{},{loading:!1,error:t.payload.error});case ge:return Object(j.a)(Object(j.a)({},e),{},{users:[],loading:!1,error:null});case ve:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case ye:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload._id})),loading:!1});case Ee:return Object(j.a)(Object(j.a)({},hr),{},{loading:!1,error:t.payload.error});case Se:return Object(j.a)({},hr);default:return e}},mr={user:null,loading:!1,error:null,success:!1},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Re:return Object(j.a)(Object(j.a)({},e),{},{user:t.payload,loading:!1});case _e:return Object(j.a)(Object(j.a)({},mr),{},{error:t.payload.error,loading:!1});case Ce:return Object(j.a)({},mr);case Te:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Pe:return Object(j.a)(Object(j.a)({},e),{},{user:t.payload,success:!0,loading:!1});case De:return Object(j.a)(Object(j.a)({},mr),{},{error:t.payload.error,loading:!1});case Ae:return Object(j.a)({},mr);default:return e}},gr={orders:[],loading:!1,error:null},vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case $e:return Object(j.a)(Object(j.a)({},e),{},{orders:t.payload,loading:!1});case Be:return Object(j.a)(Object(j.a)({},gr),{},{loading:!1,error:t.payload.error});case Je:return Object(j.a)({},gr);case We:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Ye:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,orders:t.payload});case He:return Object(j.a)(Object(j.a)({},gr),{},{error:t.payload.error});default:return e}},yr={products:[],loading:!1,error:null},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case R:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,products:t.payload});case _:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},Sr=Object(ar.combineReducers)({product:ir,productDetails:jr,productTopRated:Er,cart:lr,user:br,order:pr,orderList:vr,userList:xr,userDetails:fr}),Ir=[cr.a],Rr=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],_r=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Cr={cart:{cartItems:Rr,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},user:{userInfo:_r}},Tr=Object(ar.createStore)(Sr,Cr,Object(nr.composeWithDevTools)(ar.applyMiddleware.apply(void 0,Ir)));window.store=Tr,i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(p.a,{store:Tr,children:Object(a.jsx)(u.BrowserRouter,{children:Object(a.jsx)(tr,{})})})}),document.getElementById("root")),rr()},89:function(e,t,r){},90:function(e,t,r){}},[[122,1,2]]]);
//# sourceMappingURL=main.845238cb.chunk.js.map